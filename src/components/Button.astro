---
// Click button, get confetti!
// Styled by Tailwind :)
const projectDirs = await import.meta.glob("../../public/**/**/index.html");
---

<!-- random file path from projectDirs -->
<a
  target="_blank"
  rel="noopener noreferrer"
  title="Open random project in a new tab"
  href={Object.keys(projectDirs)[
    Math.floor(Math.random() * Object.keys(projectDirs).length)
  ].replace("/public", "")}
  class="bg-cohortHeading hover:bg-buttonHover appearance-none rounded-lg px-4 py-2 font-semibold text-black shadow-md hover:text-white focus:outline-none focus:ring-2 focus:ring-purple-400 focus:ring-opacity-75"
>
  <slot />
</a>

<script>
  import confetti from "canvas-confetti";
  const button = document.body.querySelectorAll("a");

  if (button) {
    button.forEach((x) => x.addEventListener("click", () => confetti()));
  }
</script>
